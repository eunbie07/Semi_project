<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>홈페이지</title>
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=54bddc113d6d9d4f81582fd0de39cef0&autoload=false&libraries=services"></script>
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <script defer src="script_2.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: #fff;
      padding-bottom: 10rem;
    }
    .menu-toggle {
      position: fixed;
      top: 50px;
      left: 20px;
      width: 30px;
      height: 22px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
      z-index: 1001;
    }
    .menu-toggle span {
      height: 4px;
      background: #111;
      border-radius: 2px;
    }
    .sidebar {
      position: fixed;
      top: 0;
      left: -260px;
      width: 240px;
      height: 100%;
      background: #f5f5f5;
      box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
      padding: 2rem 1.5rem;
      transition: left 0.3s ease;
      z-index: 1000;
    }
    .sidebar.active { left: 0; }
    .sidebar h2 {
      font-size: 1.2rem;
      margin-top: 70px;
      margin-bottom: 2rem;
    }
    .sidebar ul { list-style: none; }
    .sidebar ul li { margin-bottom: 1.2rem; }
    .sidebar ul li a {
      text-decoration: none;
      color: #111;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
    }
    .content {
      margin-left: 260px; /* 사이드바 너비만큼 왼쪽 여백 확보 */
      padding: 2rem;
      transition: margin-left 0.3s ease;
    }
    .graph-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 4rem;
      align-items: start;
    }
    .graph-block {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }
    .graph-label {
      font-size: 1rem;
      font-weight: bold;
      color: #333;
      margin-bottom: 1rem;
    }
    .content h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
      margin-top: 10px;
    }
    .content p {
      font-size: 1rem;
      color: #444;
    }
    .graph-image {
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .divider {
        border: none;
        border-top: 1px solid #ccc;
        width: 100%;
        margin: 2rem 0; /* auto로 하면 가운데 정렬됨 */
    }
    .divider2 {
      border: none;
      border-top: 1px solid #ccc;
      width: 100%;
      margin: 2rem 0; /* 좌우 여백 제거 */
    }
    .box2 {
      margin: 0 auto;
      max-width: 80%;
    }
    
    .box2 h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: #111;
      margin-bottom: 0.5rem;
      margin-top: 20px;
      text-align: center;
    }
    .box2 h3 {
      font-size: 1rem;
      font-weight: 400;
      color: #222;
      margin-top: 0;
      text-align: center;
    }
    .test_box {
      margin: 0 auto;
      max-width: 80%;
      text-align: left; /* 이 줄 추가 */
    }

    .test_box h2 {
      margin-top: 2rem;
      text-align: left;
    }
    .tab {
      display: none;
      margin-top: 3rem;
      padding: 0 1rem;
    }
    .tab.active { display: block; }
    .marker-label {
      color: white;
      padding: 5px 8px;
      border-radius: 50%;
      font-size: 13px;
      font-weight: bold;
      text-align: center;
      border: 2px solid white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      white-space: nowrap;
    }
    button {
      padding: 10px 20px;
      background-color: #3498db;
      border: none;
      color: white;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    input, select {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 15px;
    }
    #result {
      margin-top: 25px;
      font-size: 20px;
      background: white;
      border-left: 5px solid #3498db;
      padding: 15px 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      color: #2c3e50;
    }
  </style>
</head>
<body>
  <div class="menu-toggle" id="menuToggle">
    <span></span><span></span><span></span>
  </div>

  <nav class="sidebar" id="sidebar">
    <h2>Home</h2>
    <ul>
      <li><a href="#" onclick="showTab('home')">스마트폰 & 정서 분석</a></li>
      <li><a href="test.html">정신 건강 테스트</a></li>
      <li><a onclick="showTab('depression')">내 또래 우울감</a></li>
      <li><a onclick="showTab('depression_graph')">우울감 경험률 그래프</a></li>
      <li><a onclick="showTab('smartphone')">스마트폰 사용 비교</a></li>
      <li><a onclick="showTab('tips')">정신건강 꿀팁</a></li>
      <li><a onclick="showTab('smartphone_badeffect')">스마트폰의 부정적영향</a></li>
      <li><a onclick="showTab('stress_issues')">청소년 최대 고민은?</a></li>
      <li><a onclick="showTab('stress_region')">지역별 스트레스 지도</a></li>
      <li><a onclick="showTab('stress_chart')">청소년 스트레스 차트</a></li>
      <li><a onclick="showTab('breakfast_region')">지역별 아침식사 결식률 지도</a></li>
    </ul>
  </nav>

  <main class="content">
    <div id="home" class="tab active">
      <h1>증가하는 스마트폰 과의존 추세</h1>
      <p>당신은 정말 괜찮으십니까 ?</p>
      <hr class="divider" />
    
      <div class="graph-container">
        <div class="graph-block">
          <p class="graph-label">스마트폰 과의존율 추이</p>
          <img src="assets/smartphone_overdependence.png" alt="스마트폰 과의존 그래프" class="graph-image" />
        </div>
        <div class="graph-block">
          <p class="graph-label">청소년 우울감 경험률</p>
          <img src="assets/depression_graph.png" alt="우울감 그래프" class="graph-image" />
        </div>
      </div>

      <hr class="divider2" />

      <div class="box2">
        <h2>정서를 달래는 도구, 동시에 흔드는 도구</h2>
        <h3>불안한 마음을 감추려 켠 화면 속에, 또 다른 불안이 있었다.</h3>
      </div>

      <hr class="divider2" />

      <div class="test_box">
        <h2>내 상태 테스트 해보기</h2>
        <a href="test.html" class="test-button">테스트 하러 가기</a>
      </div>
    </div>

    <div id="depression" class="tab">
      <h2>📊 과거의 내 또래 아이들의 우울감은?</h2><br>
      <label>나이: <input type="number" id="age" min="10" max="30" step="1"></label><br><br>
      <label>성별:
        <select id="gender">
          <option value="male">남학생</option>
          <option value="female">여학생</option>
        </select>
      </label><br><br>
      <label>연도: <input type="number" id="year" value="2023"></label> <span style="font-size: 0.9em; color: gray;">(2016년 부터 2024년도 까지만 입력해주세요)</span><br><br>
      <button onclick="getDepression()">📥 조회하기</button>
      <p id="result"></p>
    </div>

    <div id="depression_graph" class="tab">
      <h2>👋 청소년 우울감 경험률 그래프</h2><br>
      <img src="assets/depression_solid.png" alt="청소년 이미지" style="max-width: 50%; height: auto; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 25px;">
      <p style="font-size: 18px;font-weight: bold; color: #2c3e50;">
        👋 <br>
    </div>

    <div id="smartphone" class="tab">
      <h2>📱 스마트폰 사용량과 정신건강</h2><br>
      <p>이 부분에는 그래프 또는 통계 자료가 들어갈 예정입니다.</p>
    </div>

    <div id="tips" class="tab">
      <ul>
        <li>🌙 자기 전 1시간 스마트폰 끄기</li>
        <li>🧘 명상 앱 사용해보기 (ex. Calm, 코끼리)</li>
        <li>🚶 하루 30분 이상 걷기</li>
        <li>🔌 디지털 디톡스 주간 운영</li>
      </ul>
    </div>

    <div id="smartphone_badeffect" class="tab">
      <h2> 스마트폰의 부정적 영향</h2><br>
      <label>나이: <input type="int" id="sp_age" min="10" max="30" step="1"></label><br><br>
      </label>
      <label>연도: <input type="int" id="sp_year" value="2023"></label>
      <span style="font-size: 0.9em; color: gray;"> (2017년 부터 2023년도 까지만 입력해주세요)</span><br><br>
      <button onclick="getSmartphoneBadeffect()">📥 조회하기</button>
      <p id="resultSmartphone"></p>
    </div>

    <div id="stress_issues" class="tab">
      <h2> 청소년 최대 고민은?</h2> <br><!--  닫는 태그 수정 -->
      <label>연도: <input type="number" id="si_year" value="2022"></label>
      <span style="font-size: 0.9em; color: gray;">(2016년 부터 2024년도 까지 짝수년도만 입력해주세요)</span><br><br>
      <button onclick="getStressIssues()">📥 조회하기</button>
      <div id="resultStress"></div>
    </div>

    <div id="stress_region" class="tab">
      <h2> 지역별 스트레스 지수 지도</h2><br> <!--  닫는 태그 수정 -->
      <label>연도: <input type="number" id="map_year" value="2024"></label>
      <span style="font-size: 0.9em; color: gray;">(2015년 ~ 2024년)</span><br><br>
      <button onclick="updateMapByYear()">📥 지도 조회하기</button><br><br>
      <div id="map" style="width: 80%; height: 400px;"></div>
    </div>
    <div id="stress_chart" class="tab" style="display:none;">
      <h2>청소년 고민 도넛 차트</h2>
      <label for="chart_year">연도 선택:</label>
      <select id="chart_year">
        <option value="2024">2024</option>
        <option value="2022">2022</option>
        <option value="2020">2020</option>
        <option value="2018">2018</option>
        <option value="2016">2016</option>
      </select>
      <div id="chartdiv" style="width:100%; height:500px;"></div>
    </div>
    <div class="tab" id="breakfast_region" style="display:none;">
      <h2>지역별 아침식사 결식률</h2><br>
      <label>연도: <input type="number" id="breakfast_map_year" value="2024" min="2015" max="2024" /></label><br><br>
      <button onclick="updateBreakfastMapByYear()">📥 지도 조회하기</button><br><br>
      <div id="breakfast_map" style="width: 30%; height: 400px;"></div>
    </div>
  </main>
</body>
</html>